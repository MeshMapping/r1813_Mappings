<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36 Edg/130.0.0.0" version="24.8.3">
  <diagram id="t1nOSM1R4C6WDv-9ma3I" name="Page-1">
    <mxGraphModel dx="1666" dy="749" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-1" value="output_files.f90" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F8CECC;" parent="1" vertex="1">
          <mxGeometry x="410" y="10" width="185" height="50" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-2" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="10" y="10" width="360" height="100" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-3" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="h-qSuh1iVRRgcxZ5S4j9-2" vertex="1">
          <mxGeometry width="360" height="100" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-4" value="&lt;font style=&quot;font-size: 9px;&quot;&gt;Dependencies&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Driver\MESH_Driver\output_files.f90: output_files_append_field&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Driver\MESH_Driver\output_files.f90: output_files_parse_indices&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Modules\permafrost_outputs\permafrost_outputs_module.f90: permafrost_outputs_init&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="h-qSuh1iVRRgcxZ5S4j9-2" vertex="1">
          <mxGeometry x="8.307000000000002" width="342.693" height="97.2972972972973" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="h-qSuh1iVRRgcxZ5S4j9-6" target="h-qSuh1iVRRgcxZ5S4j9-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-6" value="&lt;b&gt;output_files_init(fls,shd)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="160" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="h-qSuh1iVRRgcxZ5S4j9-8" target="h-qSuh1iVRRgcxZ5S4j9-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-8" value="&lt;div&gt;Initialize variables&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="136.25" y="230" width="127.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-9" value="end subroutine" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="142.5" y="980" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="h-qSuh1iVRRgcxZ5S4j9-11" target="h-qSuh1iVRRgcxZ5S4j9-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-11" value="&lt;div&gt;fls_out%PROCESS_ACTIVE == True&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=1;fillColor=#F19C99;" parent="1" vertex="1">
          <mxGeometry x="75" y="290" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="h-qSuh1iVRRgcxZ5S4j9-13" target="h-qSuh1iVRRgcxZ5S4j9-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-13" value="&lt;div&gt;call GET_DATES(ts)&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="136.88" y="370" width="126.87" height="40" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="h-qSuh1iVRRgcxZ5S4j9-15" target="h-qSuh1iVRRgcxZ5S4j9-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-15" value="Allocate output variable for time-stamps" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="125.08" y="440" width="149.84" height="50" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-16" value="Open input file and reads file:&amp;nbsp;outputs_balance.txt" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#C3ABD0;" parent="1" vertex="1">
          <mxGeometry x="116.36999999999999" y="520" width="167.26" height="50" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="h-qSuh1iVRRgcxZ5S4j9-18" target="h-qSuh1iVRRgcxZ5S4j9-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-18" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="75" y="600" width="275" height="270" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-19" value="Parse each line and get arguments from file" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="131.17" y="670" width="164.92" height="40" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-20" value="Compare arguments with Model variables and call with appropriate arguments:&lt;br&gt;call &lt;b&gt;output_files_append_field&lt;/b&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;If&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;case (PMFRSTVN_DZAA):&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;call &lt;b&gt;output_files_parse_indices&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;call &lt;b&gt;permafrost_outputs_init&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#CCFFCC;" parent="1" vertex="1">
          <mxGeometry x="106.16999999999999" y="720" width="218.83" height="140" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.473;entryY=0.004;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="h-qSuh1iVRRgcxZ5S4j9-16" target="h-qSuh1iVRRgcxZ5S4j9-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-22" value="do while (ios == 0)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="80" y="607" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-23" value="i = i + read_txt_line(iun, line, ios)" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="133.11999999999998" y="627" width="164.92" height="40" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="h-qSuh1iVRRgcxZ5S4j9-25" target="h-qSuh1iVRRgcxZ5S4j9-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="h-qSuh1iVRRgcxZ5S4j9-25" value="Print the number of active fields (Output variables)" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="135.3" y="900" width="154.41" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KhFB951nYqyGVj8CbxD9-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KhFB951nYqyGVj8CbxD9-2" target="KhFB951nYqyGVj8CbxD9-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KhFB951nYqyGVj8CbxD9-2" value="&lt;b&gt;output_files_finalize(fls,shd)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="524.37" y="740" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KhFB951nYqyGVj8CbxD9-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KhFB951nYqyGVj8CbxD9-4" target="KhFB951nYqyGVj8CbxD9-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KhFB951nYqyGVj8CbxD9-4" value="&lt;div&gt;fls_out%PROCESS_ACTIVE == True&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=1;fillColor=#F19C99;" parent="1" vertex="1">
          <mxGeometry x="484.37" y="820" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="KhFB951nYqyGVj8CbxD9-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="KhFB951nYqyGVj8CbxD9-6" target="KhFB951nYqyGVj8CbxD9-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KhFB951nYqyGVj8CbxD9-6" value="call output_files_update(fls, shd)" style="whiteSpace=wrap;html=1;fillColor=#FFFFFF;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="511.87" y="900" width="195" height="40" as="geometry" />
        </mxCell>
        <mxCell id="KhFB951nYqyGVj8CbxD9-7" value="end subroutine" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="539.37" y="970" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="wrCjEMFJzPZ9uyX7yor8-2" target="wrCjEMFJzPZ9uyX7yor8-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-2" value="&lt;b&gt;output_files_update(fls,shd)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="512.5" y="160" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="wrCjEMFJzPZ9uyX7yor8-4" target="wrCjEMFJzPZ9uyX7yor8-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-4" value="&lt;div&gt;fls_out%PROCESS_ACTIVE == True&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=1;fillColor=#F19C99;" vertex="1" parent="1">
          <mxGeometry x="472.5" y="240" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="wrCjEMFJzPZ9uyX7yor8-6" target="wrCjEMFJzPZ9uyX7yor8-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-6" value="Increments the counter for seasonal outputs if the current month has changed" style="whiteSpace=wrap;html=1;fillColor=#FFFFFF;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="497.5" y="310" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-7" value="end subroutine" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="554.06" y="657" width="110.62" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-8" value="&lt;div&gt;!&amp;gt; Update external outputs.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; call permafrost_outputs_update(fls, shd)&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#FFE599;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="481.25" y="400" width="232.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-9" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="470" y="480" width="278.75" height="153" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-10" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="wrCjEMFJzPZ9uyX7yor8-9">
          <mxGeometry width="278.75" height="153" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-11" value="do i = 1, size(fls_out%fls) &quot;output files&quot;:" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="wrCjEMFJzPZ9uyX7yor8-9">
          <mxGeometry width="218.75" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="wrCjEMFJzPZ9uyX7yor8-9" source="wrCjEMFJzPZ9uyX7yor8-13" target="wrCjEMFJzPZ9uyX7yor8-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-13" value="&lt;div&gt;If the frequency is not FREQ_START or&amp;nbsp;FREQ_END&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=1;fillColor=#F19C99;" vertex="1" parent="wrCjEMFJzPZ9uyX7yor8-9">
          <mxGeometry x="14.38" y="20" width="250" height="63" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-14" value="call output_files_update_field&lt;div&gt;(fls, shd, fls_out%fls(i))&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#FFFFFF;rounded=1;" vertex="1" parent="wrCjEMFJzPZ9uyX7yor8-9">
          <mxGeometry x="59.690000000000055" y="103" width="159.06" height="43" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.585;entryY=0.15;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="wrCjEMFJzPZ9uyX7yor8-8" target="wrCjEMFJzPZ9uyX7yor8-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wrCjEMFJzPZ9uyX7yor8-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="wrCjEMFJzPZ9uyX7yor8-10" target="wrCjEMFJzPZ9uyX7yor8-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
